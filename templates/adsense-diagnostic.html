<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AdSense Diagnostic Tool - 72+ Hour Check</title>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5331539730424594"
         crossorigin="anonymous"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #1e3c72;
            margin-bottom: 10px;
            font-size: 2em;
        }
        
        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        
        .alert {
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid;
            font-weight: 500;
        }
        
        .alert-error {
            background: #fee;
            border-color: #c00;
            color: #c00;
        }
        
        .alert-warning {
            background: #fffbea;
            border-color: #f59e0b;
            color: #92400e;
        }
        
        .alert-success {
            background: #d1fae5;
            border-color: #10b981;
            color: #065f46;
        }
        
        .alert-info {
            background: #dbeafe;
            border-color: #3b82f6;
            color: #1e40af;
        }
        
        .check-section {
            background: #f9fafb;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #e5e7eb;
        }
        
        .check-section h2 {
            color: #1e3c72;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .check-item {
            display: flex;
            align-items: start;
            padding: 12px 0;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .check-item:last-child {
            border-bottom: none;
        }
        
        .check-icon {
            font-size: 24px;
            margin-right: 15px;
            min-width: 30px;
        }
        
        .check-content {
            flex: 1;
        }
        
        .check-title {
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 5px;
        }
        
        .check-desc {
            color: #6b7280;
            font-size: 0.95em;
        }
        
        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .status-pass {
            background: #d1fae5;
            color: #065f46;
        }
        
        .status-fail {
            background: #fee;
            color: #c00;
        }
        
        .status-pending {
            background: #fffbea;
            color: #92400e;
        }
        
        .action-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }
        
        .action-box h3 {
            margin-bottom: 15px;
            font-size: 1.4em;
        }
        
        .action-list {
            list-style: none;
            padding: 0;
        }
        
        .action-list li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
        }
        
        .action-list li:before {
            content: "‚Üí";
            position: absolute;
            left: 0;
            font-weight: bold;
            font-size: 1.2em;
        }
        
        .ad-test-box {
            background: #f3f4f6;
            border: 3px dashed #9ca3af;
            border-radius: 10px;
            padding: 30px;
            margin: 20px 0;
            min-height: 280px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        
        .spinner {
            border: 4px solid #f3f4f6;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: #3b82f6;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-size: 1em;
        }
        
        .btn:hover {
            background: #2563eb;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);
        }
        
        .code-block {
            background: #1f2937;
            color: #10b981;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            margin: 10px 0;
        }
        
        .highlight {
            background: #fef3c7;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç AdSense 72+ Hour Diagnostic</h1>
        <p class="subtitle">Comprehensive check for why ads aren't showing after 72+ hours</p>
        
        <div class="alert alert-warning">
            <strong>‚ö†Ô∏è Important:</strong> If you're seeing this page, your site is working. The issue is likely with your AdSense account setup, not your code.
        </div>
        
        <!-- Real-time Status -->
        <div class="check-section">
            <h2>üìä Real-Time Ad Status</h2>
            <div id="realTimeStatus">
                <div class="spinner"></div>
                <p style="text-align: center; color: #6b7280;">Checking ad status...</p>
            </div>
        </div>
        
        <!-- Test Ad Unit -->
        <div class="check-section">
            <h2>üß™ Live Ad Test</h2>
            <p style="color: #6b7280; margin-bottom: 15px;">If AdSense is working, an ad should appear below:</p>
            <div class="ad-test-box">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-5331539730424594"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <script>
                     (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
            <div id="adTestResult"></div>
        </div>
        
        <!-- Critical Checks -->
        <div class="check-section">
            <h2>‚úÖ Critical Checks</h2>
            <div id="criticalChecks">
                <div class="spinner"></div>
            </div>
        </div>
        
        <!-- Most Likely Issues -->
        <div class="check-section">
            <h2>üéØ Most Likely Issues (After 72+ Hours)</h2>
            
            <div class="check-item">
                <div class="check-icon">‚ùå</div>
                <div class="check-content">
                    <div class="check-title">1. AdSense Account Not Approved</div>
                    <div class="check-desc">
                        <strong>This is the #1 reason.</strong> Your AdSense account may still be under review.
                        <br><br>
                        <strong>How to check:</strong>
                        <ol style="margin-left: 20px; margin-top: 10px;">
                            <li>Go to <a href="https://www.google.com/adsense/" target="_blank">AdSense Dashboard</a></li>
                            <li>Look for approval status on the home page</li>
                            <li>Check your email for approval/rejection messages</li>
                        </ol>
                        <br>
                        <strong>Timeline:</strong> Can take 1-2 weeks or longer for new accounts
                    </div>
                </div>
            </div>
            
            <div class="check-item">
                <div class="check-icon">üåê</div>
                <div class="check-content">
                    <div class="check-title">2. Domain Not Added to AdSense Sites</div>
                    <div class="check-desc">
                        Your domain must be explicitly added and approved in AdSense.
                        <br><br>
                        <strong>How to fix:</strong>
                        <ol style="margin-left: 20px; margin-top: 10px;">
                            <li>Go to AdSense ‚Üí <strong>Sites</strong></li>
                            <li>Click <strong>"Add site"</strong></li>
                            <li>Enter: <span class="highlight">soundcloudfreeplaylistdownloader.xyz</span></li>
                            <li>Wait for approval (24-48 hours)</li>
                        </ol>
                    </div>
                </div>
            </div>
            
            <div class="check-item">
                <div class="check-icon">‚ö†Ô∏è</div>
                <div class="check-content">
                    <div class="check-title">3. Policy Violations</div>
                    <div class="check-desc">
                        Your site may have content policy issues.
                        <br><br>
                        <strong>How to check:</strong>
                        <ol style="margin-left: 20px; margin-top: 10px;">
                            <li>Go to AdSense ‚Üí <strong>Policy Center</strong></li>
                            <li>Look for any warnings or violations</li>
                            <li>Common issues: copyright concerns, insufficient content, invalid traffic</li>
                        </ol>
                    </div>
                </div>
            </div>
            
            <div class="check-item">
                <div class="check-icon">üìÑ</div>
                <div class="check-content">
                    <div class="check-title">4. ads.txt Not Verified</div>
                    <div class="check-desc">
                        Google may not have verified your ads.txt file yet.
                        <br><br>
                        <strong>Status:</strong> <span id="adsTxtStatus">Checking...</span>
                    </div>
                </div>
            </div>
            
            <div class="check-item">
                <div class="check-icon">üìä</div>
                <div class="check-content">
                    <div class="check-title">5. Insufficient Traffic</div>
                    <div class="check-desc">
                        Google may not serve ads to sites with very low/no traffic.
                        <br><br>
                        <strong>Solution:</strong> Drive some organic traffic to your site (social media, forums, etc.)
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Action Required -->
        <div class="action-box">
            <h3>üö® ACTION REQUIRED - Do This Now:</h3>
            <ul class="action-list">
                <li>Log into <a href="https://www.google.com/adsense/" target="_blank" style="color: white; text-decoration: underline;">AdSense Dashboard</a></li>
                <li>Check if your account shows "APPROVED" status</li>
                <li>Go to <strong>Sites</strong> section and verify your domain is listed</li>
                <li>Check <strong>Policy Center</strong> for any violations</li>
                <li>Look for emails from Google AdSense</li>
                <li>If account is not approved, wait or contact AdSense support</li>
            </ul>
        </div>
        
        <!-- Technical Verification -->
        <div class="check-section">
            <h2>üîß Technical Verification</h2>
            <div id="technicalChecks">
                <div class="spinner"></div>
            </div>
        </div>
        
        <!-- Next Steps -->
        <div class="check-section">
            <h2>üìã Next Steps Based on Your Situation</h2>
            
            <div style="margin: 20px 0;">
                <h3 style="color: #1e3c72; margin-bottom: 10px;">If Account is NOT Approved:</h3>
                <ul style="margin-left: 20px; color: #4b5563; line-height: 1.8;">
                    <li><strong>Wait:</strong> AdSense approval can take 1-2 weeks or longer</li>
                    <li><strong>Check Email:</strong> Google will email you about approval status</li>
                    <li><strong>Improve Content:</strong> Add more quality content to your site</li>
                    <li><strong>Drive Traffic:</strong> Get some real visitors to your site</li>
                    <li><strong>Be Patient:</strong> This is the most common reason for no ads</li>
                </ul>
            </div>
            
            <div style="margin: 20px 0;">
                <h3 style="color: #1e3c72; margin-bottom: 10px;">If Account IS Approved:</h3>
                <ul style="margin-left: 20px; color: #4b5563; line-height: 1.8;">
                    <li><strong>Add Domain:</strong> Make sure your domain is in AdSense Sites</li>
                    <li><strong>Check Policy Center:</strong> Look for any violations</li>
                    <li><strong>Verify ads.txt:</strong> Make sure it's accessible and verified</li>
                    <li><strong>Wait 24-48 Hours:</strong> After adding domain</li>
                    <li><strong>Contact Support:</strong> If still no ads after all checks</li>
                </ul>
            </div>
        </div>
        
        <!-- Support Resources -->
        <div class="check-section">
            <h2>üÜò Get Help</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px;">
                <a href="https://www.google.com/adsense/" target="_blank" class="btn">AdSense Dashboard</a>
                <a href="https://support.google.com/adsense/" target="_blank" class="btn">AdSense Help Center</a>
                <a href="https://support.google.com/adsense/community" target="_blank" class="btn">AdSense Community</a>
            </div>
        </div>
        
        <div class="alert alert-info" style="margin-top: 30px;">
            <strong>üí° Remember:</strong> 99% of the time, if ads don't show after 72+ hours, it's because the AdSense account isn't fully approved or the domain isn't added to AdSense Sites. Your code is correct.
        </div>
    </div>
    
    <script>
        // Comprehensive diagnostic script
        const results = {
            adScriptLoaded: false,
            adsFilled: 0,
            totalAds: 0,
            adsTxtAccessible: false,
            adsTxtContent: '',
            errors: []
        };
        
        // Check 1: AdSense Script
        setTimeout(() => {
            results.adScriptLoaded = typeof adsbygoogle !== 'undefined';
            
            if (!results.adScriptLoaded) {
                results.errors.push('AdSense script not loaded - Ad blocker may be active');
            }
            
            updateRealTimeStatus();
        }, 1000);
        
        // Check 2: Ad Fill Status
        setTimeout(() => {
            const adSlots = document.querySelectorAll('.adsbygoogle');
            results.totalAds = adSlots.length;
            
            adSlots.forEach((ad) => {
                const status = ad.getAttribute('data-adsbygoogle-status');
                if (status === 'done') {
                    results.adsFilled++;
                }
            });
            
            updateRealTimeStatus();
            updateAdTestResult();
        }, 5000);
        
        // Check 3: ads.txt
        fetch('/ads.txt')
            .then(response => {
                if (response.ok) {
                    return response.text();
                } else {
                    throw new Error('ads.txt not found (404)');
                }
            })
            .then(text => {
                results.adsTxtAccessible = true;
                results.adsTxtContent = text.trim();
                updateAdsTxtStatus();
                updateTechnicalChecks();
            })
            .catch(error => {
                results.errors.push('ads.txt not accessible: ' + error.message);
                updateAdsTxtStatus();
                updateTechnicalChecks();
            });
        
        function updateRealTimeStatus() {
            const statusDiv = document.getElementById('realTimeStatus');
            
            let html = '<div class="check-item">';
            html += '<div class="check-icon">' + (results.adScriptLoaded ? '‚úÖ' : '‚ùå') + '</div>';
            html += '<div class="check-content">';
            html += '<div class="check-title">AdSense Script: ' + (results.adScriptLoaded ? 'Loaded' : 'NOT Loaded') + '</div>';
            html += '<div class="check-desc">' + (results.adScriptLoaded ? 'Script is loading correctly' : 'Script failed to load - disable ad blocker') + '</div>';
            html += '</div></div>';
            
            html += '<div class="check-item">';
            html += '<div class="check-icon">' + (results.adsFilled > 0 ? '‚úÖ' : '‚ùå') + '</div>';
            html += '<div class="check-content">';
            html += '<div class="check-title">Ads Filled: ' + results.adsFilled + '/' + results.totalAds + '</div>';
            html += '<div class="check-desc">';
            if (results.adsFilled === 0) {
                html += '<strong style="color: #c00;">NO ADS ARE SHOWING</strong><br>';
                html += 'This means your AdSense account is likely not approved yet, or your domain is not added to AdSense Sites.';
            } else if (results.adsFilled < results.totalAds) {
                html += 'Some ads are showing, which is normal. Google doesn\'t always fill every slot.';
            } else {
                html += 'All ads are showing! Your AdSense is working correctly.';
            }
            html += '</div></div></div>';
            
            statusDiv.innerHTML = html;
        }
        
        function updateAdTestResult() {
            const resultDiv = document.getElementById('adTestResult');
            
            if (results.adsFilled > 0) {
                resultDiv.innerHTML = '<div class="alert alert-success"><strong>‚úÖ Success!</strong> Ads are showing. Your AdSense is working.</div>';
            } else {
                resultDiv.innerHTML = '<div class="alert alert-error"><strong>‚ùå No Ads</strong> - Your AdSense account is likely not approved, or domain not added to Sites.</div>';
            }
        }
        
        function updateAdsTxtStatus() {
            const statusSpan = document.getElementById('adsTxtStatus');
            
            if (results.adsTxtAccessible) {
                statusSpan.innerHTML = '<span class="status-badge status-pass">‚úÖ Accessible</span><br><div class="code-block" style="margin-top: 10px;">' + results.adsTxtContent + '</div>';
            } else {
                statusSpan.innerHTML = '<span class="status-badge status-fail">‚ùå Not Accessible</span>';
            }
        }
        
        function updateTechnicalChecks() {
            const checksDiv = document.getElementById('technicalChecks');
            
            let html = '';
            
            // Check 1: ads.txt
            html += '<div class="check-item">';
            html += '<div class="check-icon">' + (results.adsTxtAccessible ? '‚úÖ' : '‚ùå') + '</div>';
            html += '<div class="check-content">';
            html += '<div class="check-title">ads.txt File</div>';
            html += '<div class="check-desc">';
            if (results.adsTxtAccessible) {
                html += 'File is accessible at <a href="/ads.txt" target="_blank">/ads.txt</a><br>';
                html += '<div class="code-block" style="margin-top: 10px;">' + results.adsTxtContent + '</div>';
            } else {
                html += '<strong style="color: #c00;">File not accessible!</strong> This is required by AdSense.';
            }
            html += '</div></div></div>';
            
            // Check 2: Publisher ID
            html += '<div class="check-item">';
            html += '<div class="check-icon">‚úÖ</div>';
            html += '<div class="check-content">';
            html += '<div class="check-title">Publisher ID</div>';
            html += '<div class="check-desc">ca-pub-5331539730424594 (correctly configured)</div>';
            html += '</div></div>';
            
            // Check 3: HTTPS
            html += '<div class="check-item">';
            html += '<div class="check-icon">' + (window.location.protocol === 'https:' ? '‚úÖ' : '‚ö†Ô∏è') + '</div>';
            html += '<div class="check-content">';
            html += '<div class="check-title">HTTPS</div>';
            html += '<div class="check-desc">' + (window.location.protocol === 'https:' ? 'Site is using HTTPS (good)' : 'Site is not using HTTPS (recommended for AdSense)') + '</div>';
            html += '</div></div>';
            
            // Check 4: Domain
            html += '<div class="check-item">';
            html += '<div class="check-icon">‚ÑπÔ∏è</div>';
            html += '<div class="check-content">';
            html += '<div class="check-title">Domain</div>';
            html += '<div class="check-desc">' + window.location.hostname + '</div>';
            html += '</div></div>';
            
            checksDiv.innerHTML = html;
        }
        
        // Update critical checks
        setTimeout(() => {
            const checksDiv = document.getElementById('criticalChecks');
            
            let html = '';
            
            // Overall status
            if (results.adsFilled === 0 && results.adScriptLoaded) {
                html += '<div class="alert alert-error">';
                html += '<strong>üö® DIAGNOSIS:</strong> Your code is correct, but ads are not showing. ';
                html += 'This almost certainly means:<br><br>';
                html += '1. Your AdSense account is <strong>NOT YET APPROVED</strong>, OR<br>';
                html += '2. Your domain is <strong>NOT ADDED</strong> to AdSense Sites<br><br>';
                html += 'Check your AdSense dashboard immediately.';
                html += '</div>';
            } else if (!results.adScriptLoaded) {
                html += '<div class="alert alert-warning">';
                html += '<strong>‚ö†Ô∏è AD BLOCKER DETECTED:</strong> Disable your ad blocker and refresh the page to test properly.';
                html += '</div>';
            } else if (results.adsFilled > 0) {
                html += '<div class="alert alert-success">';
                html += '<strong>‚úÖ SUCCESS:</strong> Ads are showing! Your AdSense is working correctly.';
                html += '</div>';
            }
            
            checksDiv.innerHTML = html;
        }, 5500);
        
        // Console logging
        console.log('üîç AdSense 72+ Hour Diagnostic');
        console.log('Publisher ID: ca-pub-5331539730424594');
        console.log('Domain: ' + window.location.hostname);
        console.log('Checking status in 5 seconds...');
        
        setTimeout(() => {
            console.log('\nüìä DIAGNOSTIC RESULTS:');
            console.log('AdSense Script Loaded:', results.adScriptLoaded);
            console.log('Ads Filled:', results.adsFilled + '/' + results.totalAds);
            console.log('ads.txt Accessible:', results.adsTxtAccessible);
            
            if (results.errors.length > 0) {
                console.log('\n‚ùå ERRORS:');
                results.errors.forEach(err => console.log('  -', err));
            }
            
            if (results.adsFilled === 0 && results.adScriptLoaded) {
                console.log('\nüö® CONCLUSION: Your AdSense account is likely not approved yet.');
                console.log('ACTION: Check your AdSense dashboard at https://www.google.com/adsense/');
            }
        }, 5500);
    </script>
</body>
</html>
